cmake_minimum_required(VERSION 3.10)
project(dynamic_array C)

set(CMAKE_C_STANDARD 11)
set(CMAKE_C_STANDARD_REQUIRED True)

# 1. Define the dynamic array as a library
add_library(dynamic_array_lib
    dynamic_array.c
)

# 2. Specify the include directory for the library
# PUBLIC means the library and anything linking to it can find the headers.
target_include_directories(dynamic_array_lib
    PUBLIC
        ${CMAKE_CURRENT_SOURCE_DIR}
)

# 3. Define your demo executable
add_executable(demo_dynamic_array
    demo_dynamic_array.c
)

# 4. Link the demo app against your library
target_link_libraries(demo_dynamic_array
    PRIVATE dynamic_array_lib
)

# 5. Bring in the set interface library
add_subdirectory(set_interface)

# 6. Define the set interface demo executable
add_executable(demo_set_interface
    demo_set_interface.c
)

# 7. Link the set interface demo against the set interface library
target_link_libraries(demo_set_interface
    PRIVATE set_interface_lib
)
